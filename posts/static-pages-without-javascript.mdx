---
title: Static Pages Without JavaScript
description: Remove client-side JavaScript in production for certain pages
published: '2021-9-4'
category: 'next'
image: '/images/static-pages-without-javascript/og-image.webp'
---

# Static Pages Without JavaScript Inside Next.js

[Next.js](https://nextjs.org/) isn't a pure **HTML** static site generator since **JavaScript** is required for many interactive parts of the site. That being said if you have a page that doesn't require **JavaScript**, wouldn't it be great if you could just **remove** it?

Most people that visit your site stay there for one page, so we don't have to incur the cost of the entire **JavaScript** runtime.

This is possible using the experimental [Allow disabling runtime JS in production for certain pages (experimental)](https://github.com/vercel/next.js/pull/11949) feature.

<Image
  height={448}
  width={921}
  src="/images/static-pages-without-javascript/experimental-feature.webp"
  alt="Experimental feature for removing client-side JavaScript in production"
/>

I created a typical **Next.js** app using `npx create-next-app --typescript` and removed some of the cruft, so we're left with basic styles.

<Image
  height={648}
  width={1000}
  src="/images/static-pages-without-javascript/network-with-javascript.webp"
  alt="Network tab JavaScript bundle size"
/>

I ran `npm run build`, and after `npm start` we're greeted with a bundle size of **71.89 kB**.

If we look inside the **inspector** we can see the **JavaScript** required to run this single page.

<Image
  height={648}
  width={1000}
  src="/images/static-pages-without-javascript/inspector-with-javascript.webp"
  alt="Inspector tab with JavaScript"
/>

There's no **JavaScript** required on this page, so let's remove it. This requires us to export a `config` inside a **page** with the experimental `unstable_runtimeJS` option set to `false`.

```js:index.tsx
export const config = {
  unstable_runtimeJS: false,
}
```

After we **build** and open the **page** we can see the size of the **page** is just **3 kB** since there's no **JavaScript**, and inside the **inspector** there's only **static HTML**.

<Image
  height={648}
  width={1000}
  src="/images/static-pages-without-javascript/network-without-javascript.webp"
  alt="Network tab without JavaScript"
/>

<Image
  height={648}
  width={1000}
  src="/images/static-pages-without-javascript/inspector-without-javascript.webp"
  alt="Inspector tab without JavaScript"
/>

If you have internal links everything works fine, it's just going to download the required **JavaScript** when it's required which means we don't get **preloading**.

## Conclusion

Keep in mind this is **experimental** and **only works in production**, so understand what isn't going to work to avoid problems because it works in **development**.

You can't execute **JavaScript** on the page without injecting custom `<script>` tags into the rendered **HTML** as mentioned in the pull request, but for most static pages it works great.

If you're interested in reducing the bundle size of your **Next.js** site for parts where you do ship **JavaScript**, I wrote [Reduce Next.js Bundle Size by Half](https://joyofcode.xyz/next-bundle-size) that you can read.

Thanks for reading! üèÑ‚Äç‚ôÄÔ∏è
